.map-container
  #map
  .col-xs-12.overlay.confirmation-button-container
    = t('.correct_location?')
    %br
    = button_tag('', type: 'button', class: 'btn btn-success glyphicon glyphicon-ok', id: 'confirmation-button-yes')
    = button_tag('', type: 'button', class: 'btn btn-danger glyphicon glyphicon-remove', id: 'confirmation-button-no')

  .overlay.show-sidebar-container
    .glyphicon.glyphicon-chevron-right.open-sidebar

  .overlay.control-container.zoom-container
    .glyphicon.glyphicon-plus.zoom-in
    %br
    .glyphicon.glyphicon-minus.zoom-out

  .overlay.control-container.place-control-container
    .glyphicon.add-place-button.slidepanel-button{slidepanel: 'add-place-slidepanel', title: t('.new_place')}
      = image_tag('marker_button.png')

  .overlay.control-container.category-container
    .show-categories.slidepanel-button{slidepanel: 'category-slidepanel'}
      .glyphicon.glyphicon-triangle-top
      .show-categories-text.text-center

  .overlay.places-list-panel
    .row.category-button-container
      .col-xs-6.category-button-col
        = button_tag(t('categories.all_categories'), type: 'button', class: 'btn btn-dark category-button', id: 'all')
        %br
      - @categories.each do |category|
        .col-xs-6.category-button-col
          = button_tag(category.name, type: 'button', class: 'btn btn-dark category-button', id: category.id)
    .row
      .col-xs-12.search-field
        %input.form-control#search-input{placeholder: t('.search_placeholder')}
    .row
      .col-xs-12.places-list-accordion-container
        #accordion.places-list-accordion.panel-group{"aria-multiselectable" => "true", :role => "tablist"}

  .overlay.loading
    .loading-text
      = t('.overlay_loading')

  = render('static_pages/slidepanels/add_place_slidepanel')

.panel.panel-default.places-list-item.template
  .panel-heading{:role => "tab"}
    %h4.panel-title
      %a.collapsed{"aria-expanded" => "false", "data-parent" => "#accordion", "data-toggle" => "collapse", :role => "button"}
        .name
  .panel-collapse.collapse{:role => "tabpanel"}
    .panel-body
      .description
      .contact-container
      .category-names
      .bottom-icons
        .glyphicon.glyphicon-pencil.edit-place.pull-right
        .glyphicon.glyphicon-search.show-map.pull-right

:javascript
  window.locale = '#{locale}';
  window.geolocation_error_message_appendix = '#{t('geolocation_error_message_appendix')}';
  window.autotranslated_label = '#{t('activerecord.attributes.place.auto_translated_|_click_to_edit')}';
  window.choose_category = '#{t('choose_category')}';
  window.waiting_for_review_label = '#{t('places.index.waiting_for_review')}';
  window.latitude = #{@latitude || 0};
  window.longitude = #{@longitude || 0};
  window.marker = '#{image_path 'marker.png'}';
  window.sessionMarker = '#{image_path 'marker_session.png'}';
